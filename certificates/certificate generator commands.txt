//Ha a tanusitvanyoknak ugyanazok az ertekei vannak vagy ha sehova semmit se irok be (igy is telejsul a feltetel)
//Akkor nem mukodik hitelesites. Mindig legyenek eltero ertekeken!!!

openssl req -new -x509 -days 10700 -extensions v3_ca -keyout ca.key -out ca.crt

openssl genrsa -out mosquitto.key 2048
openssl req -out mosquitto.csr -key mosquitto.key -new
openssl x509 -req -in mosquitto.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out mosquitto.crt -days 10700

openssl genrsa -out esp.key 2048
openssl req -out esp.csr -key esp.key -new
openssl x509 -req -in esp.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out esp.crt -days 10700

openssl genrsa -out python.key 2048
openssl req -out python.csr -key python.key -new
openssl x509 -req -in python.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out python.crt -days 10700


//Only for ESP8266
openssl x509 -in esp.crt -out esp8266.bin.crt -outform DER
openssl rsa -in esp.key -out esp8266.bin.key -outform DER
xxd -i esp8266.bin.key > esp8266.hex.key
xxd -i esp8266.bin.crt > esp8266.hex.crt
cat esp8266.hex.* > esp8266_certificates.h

Dont forget to add!
#ifndef CERT_H
#define CERT_H

#endif
